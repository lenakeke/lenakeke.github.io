<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TDD 與 AI 融合：互動式報告</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chosen Palette: Warm Neutral Harmony -->
    <!-- Application Structure Plan: The application is designed as a thematic, single-page dashboard rather than a linear document. A fixed sidebar navigation allows users to jump between key concepts non-linearly, enhancing exploration. The structure is: 1) Introduction to Kent Beck and the topic. 2) Core concepts of TDD with an interactive cycle diagram. 3) The debate around TDD, using a comparative layout. 4) The impact of AI, visualized with a chart. 5) The core synthesis: an interactive workflow comparison showing TDD + AI. 6) Future strategies presented in digestible cards. This structure was chosen to break down a complex report into digestible, interconnected themes, guiding the user from foundational knowledge to future implications in an engaging, interactive flow. -->
    <!-- Visualization & Content Choices: 
        - Report Info: Red-Green-Refactor cycle -> Goal: Explain process -> Viz: Interactive HTML/CSS diagram -> Interaction: Click to reveal details -> Justification: More engaging than static text, promotes active learning. Method: HTML/CSS + JS.
        - Report Info: AI tool adoption stats (62%) -> Goal: Show AI's impact -> Viz: Bar Chart -> Interaction: Hover for tooltips -> Justification: Visualizes data effectively, making the statistic more impactful than plain text. Library: Chart.js.
        - Report Info: Traditional vs. AI-assisted TDD workflow -> Goal: Compare workflows -> Viz: Side-by-side flow diagram -> Interaction: Hover effects on steps -> Justification: Clearly illustrates the paradigm shift and efficiency gains, serving as the app's centerpiece. Method: HTML/CSS (Tailwind Grid).
        - Report Info: Risks & Strategies -> Goal: Inform on best practices -> Viz: Card-based layout -> Interaction: None, focus on readability -> Justification: Organizes strategic points into scannable, easy-to-digest blocks. Method: HTML/CSS (Tailwind Flexbox).
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .nav-link {
            transition: all 0.3s ease;
        }
        .nav-link.active {
            background-color: #D1C4E9;
            color: #311B92;
            font-weight: 600;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .tdd-cycle-step {
            cursor: pointer;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .tdd-cycle-step:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .workflow-step {
            transition: background-color 0.3s;
        }
        .workflow-step:hover {
            background-color: #F3E5F5;
        }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-50 text-gray-800">

    <div class="flex flex-col md:flex-row min-h-screen">
        <aside class="w-full md:w-64 bg-white border-r border-gray-200 p-4 md:p-6 sticky top-0 md:h-screen">
            <h1 class="text-2xl font-bold text-purple-800 mb-6">TDD x AI</h1>
            <nav id="navigation" class="space-y-2">
                <a href="#home" class="nav-link block px-4 py-2 rounded-lg text-gray-700 hover:bg-purple-100">導覽</a>
                <a href="#tdd-core" class="nav-link block px-4 py-2 rounded-lg text-gray-700 hover:bg-purple-100">TDD 核心</a>
                <a href="#tdd-debate" class="nav-link block px-4 py-2 rounded-lg text-gray-700 hover:bg-purple-100">TDD 的辯證</a>
                <a href="#ai-wave" class="nav-link block px-4 py-2 rounded-lg text-gray-700 hover:bg-purple-100">AI 浪潮</a>
                <a href="#tdd-ai-fusion" class="nav-link block px-4 py-2 rounded-lg text-gray-700 hover:bg-purple-100">TDD + AI 融合</a>
                <a href="#future-strategy" class="nav-link block px-4 py-2 rounded-lg text-gray-700 hover:bg-purple-100">未來策略</a>
            </nav>
        </aside>

        <main class="flex-1 p-6 md:p-10">
            <div id="home" class="content-section">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">測試驅動開發 (TDD) 的演進與 AI 時代的轉型</h2>
                <p class="text-lg text-gray-600 mb-6">本報告深入探討 TDD 的歷史淵源、核心原則，並剖析其在 AI 時代所面臨的挑戰與機遇。我們將跟隨業界傳奇 Kent Beck 的視角，探索 TDD 如何從一種技術實踐，升級為與 AI 協作的策略基石，確保 AI 生成程式碼的可靠性與安全性。</p>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <h3 class="text-xl font-semibold text-purple-700 mb-3">核心人物：Kent Beck</h3>
                    <p class="text-gray-700">他是極限編程 (Extreme Programming) 的創造者、《敏捷宣言》的簽署者之一，也是 TDD 的先驅。在訪談中，他將 AI 編碼工具比喻為一個難以預測的「精靈」(Genie)——祂會實現你的願望，但結果卻未必是你真正想要的。這個比喻精準地捕捉了當前人機協作的動態與挑戰。</p>
                </div>
            </div>

            <div id="tdd-core" class="content-section">
                <h2 class="text-3xl font-bold text-gray-900 mb-2">TDD 核心：紅、綠、重構循環</h2>
                <p class="text-lg text-gray-600 mb-8">TDD 的實踐圍繞著一個簡潔而強大的循環，這不僅是技術規範，更是一種內化的設計哲學。點擊下方步驟以了解更多細節。</p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center mb-8">
                    <div id="step-red" class="tdd-cycle-step p-6 bg-red-100 border-2 border-red-200 rounded-xl">
                        <span class="text-5xl">🔴</span>
                        <h3 class="text-xl font-semibold text-red-800 mt-3">紅燈</h3>
                        <p class="text-red-700">撰寫失敗的測試</p>
                    </div>
                    <div id="step-green" class="tdd-cycle-step p-6 bg-green-100 border-2 border-green-200 rounded-xl">
                        <span class="text-5xl">🟢</span>
                        <h3 class="text-xl font-semibold text-green-800 mt-3">綠燈</h3>
                        <p class="text-green-700">撰寫剛好能通過測試的程式碼</p>
                    </div>
                    <div id="step-refactor" class="tdd-cycle-step p-6 bg-blue-100 border-2 border-blue-200 rounded-xl">
                        <span class="text-5xl">🔵</span>
                        <h3 class="text-xl font-semibold text-blue-800 mt-3">重構</h3>
                        <p class="text-blue-700">改善程式碼結構</p>
                    </div>
                </div>
                <div id="tdd-details" class="bg-white p-6 rounded-xl shadow-sm border border-gray-200 min-h-[150px]">
                    <h3 id="details-title" class="text-xl font-semibold text-purple-700 mb-2">點擊上方步驟</h3>
                    <p id="details-content" class="text-gray-700">選擇一個步驟來查看其核心價值與實踐方式。</p>
                </div>
            </div>

            <div id="tdd-debate" class="content-section">
                <h2 class="text-3xl font-bold text-gray-900 mb-2">TDD 的辯證</h2>
                <p class="text-lg text-gray-600 mb-8">TDD 並非萬靈丹，業界對其一直存在爭議，其中最著名的便是「測試是否引起設計傷害」。</p>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                        <h3 class="text-xl font-semibold text-red-600 mb-3">批評方：測試引起設計傷害</h3>
                        <p class="text-gray-700 mb-4">由 Ruby on Rails 創始人 DHH 提出，認為 TDD 為了追求可測試性，可能導致過度解耦，引入不必要的抽象層，從而損害了整體架構的清晰性，創造出「脆弱的程式碼」。</p>
                        <blockquote class="border-l-4 border-red-200 pl-4 text-gray-600 italic">"為了測試而設計，有時會讓設計變得更糟。"</blockquote>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                        <h3 class="text-xl font-semibold text-green-600 mb-3">支持方：TDD 提供信心</h3>
                        <p class="text-gray-700 mb-4">Kent Beck 等人反駁，認為難以測試的程式碼本身就意味著設計缺陷。TDD 的核心價值是提供一個「安全網」，給予開發者重構和快速迭代的「信心」，這份信心能讓開發者在不懼怕破壞現有功能的情況下，持續優化設計。</p>
                        <blockquote class="border-l-4 border-green-200 pl-4 text-gray-600 italic">"如果 TDD 導致了設計傷害，那是實踐者的問題，而非 TDD 的問題。"</blockquote>
                    </div>
                </div>
            </div>

            <div id="ai-wave" class="content-section">
                <h2 class="text-3xl font-bold text-gray-900 mb-2">AI 浪潮：程式碼生產力革命</h2>
                 <p class="text-lg text-gray-600 mb-8">AI 編碼工具正以前所未有的方式改變軟體開發。根據 Stack Overflow 的調查，AI 工具的採用率極高，這將軟體工程的瓶頸從「生產力」轉移到了「品質保障」。</p>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <div class="chart-container">
                        <canvas id="aiAdoptionChart"></canvas>
                    </div>
                </div>
            </div>

            <div id="tdd-ai-fusion" class="content-section">
                <h2 class="text-3xl font-bold text-gray-900 mb-2">TDD + AI 融合：新工作流程</h2>
                <p class="text-lg text-gray-600 mb-8">TDD 為 AI 提供了絕佳的「護欄」。一個失敗的測試，就是給予 AI 最精準、無歧義的提示，將人類的高層次意圖轉譯為 AI 可執行的驗證。這催生了全新的高效開發流程。</p>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                        <h3 class="text-xl font-semibold text-gray-700 mb-4 text-center">傳統 TDD 流程</h3>
                        <div class="space-y-4">
                            <div class="workflow-step border border-gray-200 p-4 rounded-lg"><strong>1. 需求定義：</strong>開發者手動理解需求。</div>
                            <div class="workflow-step border border-red-200 p-4 rounded-lg bg-red-50"><strong>2. 紅燈 (手動)：</strong>開發者手動撰寫失敗的測試。</div>
                            <div class="workflow-step border border-green-200 p-4 rounded-lg bg-green-50"><strong>3. 綠燈 (手動)：</strong>開發者手動編寫通過測試的程式碼。</div>
                            <div class="workflow-step border border-blue-200 p-4 rounded-lg bg-blue-50"><strong>4. 重構 (手動)：</strong>開發者手動進行程式碼優化。</div>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm border-2 border-purple-300">
                        <h3 class="text-xl font-semibold text-purple-700 mb-4 text-center">AI 輔助 TDD 流程</h3>
                        <div class="space-y-4">
                            <div class="workflow-step border border-gray-200 p-4 rounded-lg"><strong>1. 需求定義：</strong>人類定義高層次意圖。</div>
                            <div class="workflow-step border border-red-200 p-4 rounded-lg bg-red-50"><strong>2. 紅燈 (AI 生成)：</strong>AI 根據需求自動生成測試用例。</div>
                            <div class="workflow-step border border-green-200 p-4 rounded-lg bg-green-50"><strong>3. 綠燈 (AI 生成)：</strong>AI 根據測試自動生成程式碼。</div>
                            <div class="workflow-step border border-blue-200 p-4 rounded-lg bg-blue-50"><strong>4. 重構 (人機協作)：</strong>人類審查、指導，AI 執行重構。</div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="future-strategy" class="content-section">
                <h2 class="text-3xl font-bold text-gray-900 mb-2">未來策略：駕馭 AI 時代的技術</h2>
                <p class="text-lg text-gray-600 mb-8">AI 讓「寫壞程式碼」的速度遠超人類「修復問題」的速度。因此，團隊需要建立新的策略與防線，專注於更高層次的決策與審查。</p>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                        <h3 class="text-lg font-semibold text-purple-700 mb-2">混合式工作流</h3>
                        <p class="text-gray-700">讓 AI 處理繁瑣的「粗活」，例如生成樣板程式碼，而人類則專注於更高層次的「決策與審查」。</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                        <h3 class="text-lg font-semibold text-purple-700 mb-2">建立多層次防線</h3>
                        <p class="text-gray-700">對敏感程式碼進行強制性人工審查，並升級靜態分析工具以檢測 AI 常見的漏洞。</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                        <h3 class="text-lg font-semibold text-purple-700 mb-2">策略性駕馭技術債</h3>
                        <p class="text-gray-700">投資於系統重構，將遺留系統清理為「AI 友好」的程式碼庫，這將是具有高經濟回報的策略性投資。</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const navLinks = document.querySelectorAll('.nav-link');
            const contentSections = document.querySelectorAll('.content-section');

            function updateContent(hash) {
                const targetHash = hash || '#home';
                
                contentSections.forEach(section => {
                    section.classList.remove('active');
                });

                const activeSection = document.querySelector(targetHash);
                if (activeSection) {
                    activeSection.classList.add('active');
                } else {
                    document.querySelector('#home').classList.add('active');
                }

                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === targetHash) {
                        link.classList.add('active');
                    }
                });
                
                if (targetHash === '#ai-wave' && !window.aiChart) {
                    renderAIAdoptionChart();
                }
            }

            document.getElementById('navigation').addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    e.preventDefault();
                    const targetHash = e.target.getAttribute('href');
                    history.pushState(null, null, targetHash);
                    updateContent(targetHash);
                }
            });
            
            window.addEventListener('popstate', function() {
                updateContent(window.location.hash);
            });

            updateContent(window.location.hash);

            const tddSteps = {
                red: {
                    title: '🔴 紅燈：撰寫失敗的測試',
                    content: '此步驟強制開發者在實作前，就必須清晰地定義預期的行為與介面 (API) 設計。一個好的測試就像一份精確的需求規格書，它定義了「完成」的標準。'
                },
                green: {
                    title: '🟢 綠燈：撰寫剛好能通過測試的程式碼',
                    content: '此階段的重點是「功能優先」，不考慮過度設計，只需用最簡單的方式讓測試通過即可。這避免了在開發初期就陷入複雜的架構考量，確保快速獲得回饋。'
                },
                refactor: {
                    title: '🔵 重構：改善程式碼結構',
                    content: '一旦測試通過，開發者就可以放心地對程式碼進行重構，以提升其可讀性、可維護性與整體結構。由於有測試作為「安全網」，可以自信地進行優化，而無需擔心破壞既有功能。'
                }
            };

            const detailsTitle = document.getElementById('details-title');
            const detailsContent = document.getElementById('details-content');

            document.getElementById('step-red').addEventListener('click', () => {
                detailsTitle.textContent = tddSteps.red.title;
                detailsContent.textContent = tddSteps.red.content;
            });
            document.getElementById('step-green').addEventListener('click', () => {
                detailsTitle.textContent = tddSteps.green.title;
                detailsContent.textContent = tddSteps.green.content;
            });
            document.getElementById('step-refactor').addEventListener('click', () => {
                detailsTitle.textContent = tddSteps.refactor.title;
                detailsContent.textContent = tddSteps.refactor.content;
            });
            
            function renderAIAdoptionChart() {
                const ctx = document.getElementById('aiAdoptionChart').getContext('2d');
                window.aiChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['正在使用 AI 工具的開發者', '將 AI 用於撰寫程式碼'],
                        datasets: [{
                            label: '開發者比例 (%)',
                            data: [62, 82],
                            backgroundColor: [
                                'rgba(129, 114, 219, 0.6)',
                                'rgba(101, 85, 204, 0.6)'
                            ],
                            borderColor: [
                                'rgba(129, 114, 219, 1)',
                                'rgba(101, 85, 204, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 100,
                                ticks: {
                                    callback: function(value) {
                                        return value + '%'
                                    }
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: false
                            },
                            title: {
                                display: true,
                                text: '2024 年開發者 AI 工具使用情況 (資料來源: Stack Overflow)',
                                font: {
                                    size: 16
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.dataset.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed.y !== null) {
                                            label += context.parsed.y + '%';
                                        }
                                        return label;
                                    }
                                }
                            }
                        }
                    }
                });
            }
        });
    </script>
</body>
</html>
